<html>
  <head>
    <link rel="stylesheet" href="./css/main.css">
    <title>Time Left</title>
  </head>

  <body>
    <div id="time_left_div">
      <h>Time left to change the world:</h>
      <p id="time_left"></p>
    </div>
  </body>

  <script src="./js/store.js"></script>

  <script>
    if (!store.enabled) {
      alert('Local storage is not supported by your browser. Please disable "Private Mode", or upgrade to a modern browser.')
    }
    else {
      var birthdate = new Date(store.get('bday'))

      if (birthdate != null) {
        var maxAge = 100
        var deathdate = birthdate;
        deathdate.setFullYear(birthdate.getFullYear() + maxAge)

        var end = new Date();
        setInterval(function() {
          var a = new Date
              , b = deathdate - new Date()
              , c = b / 315569e5
              , d = c.toFixed(9).toString()

          document.getElementById('time_left').innerHTML = d + " years"
        }, 100)
      }
    }
  </script>
</html>
